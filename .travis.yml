language: node_js
node_js: lts/*
os: osx
osx_image: xcode10.2
env:
  global:
    - CSC_IDENTITY_AUTO_DISCOVERY=false
before_install:
  - brew update
install:
  - yarn install
script:
  - yarn test --coverage
before_deploy:
  - yarn release -mwl
deploy:
  provider: releases
  api_key:
    secure: TB22LNjKLwff3tJ59hAEgG7FYOAbvunCIVc7DOaSlnYeCzBYFV/ITab9dtMh/BGK5KsFl5Ew5xx61rb7WM2FqNnrJDRReO5iCAovLzJqSLnaVqPQNVIwx9/LyMPCIwvjYeASkVGZRfe6visKcLVF2ctn8RNR/ZBqh8IZ6WrbjzMk5+VVr1gKY/V6+04NUlw3yAmiIvbjABqpeHbOt6N6shYPojZV1XFbiUys5wy97i2b4KcpGm/tpvEmVbExbC9RhtTYquSJOPk14hRKKaFOGNXYyr7Xyd/OjXPPdU7sPt5OVQ081iYM5hDvUmLYf+g4xM2m9I8kossW8R7K3Sz+mNKwv/pzIHzXzR1l64/xetnqj63WG+25sr6H3vkZQhAKUA8036xOliTIhG2nYbzNjRbHbFX9LPYsWOcMJUqWAemdHoVHxWD8qmoViQTqsADoCEcl4LOB98RwZSxz/HgoBHVVi5PHJCH8HEMoYGb3Kh1IcePzF5V9CqC9sAhxIPSMKEDsRUAU7QpadZwwp0h5LbvoRNkEnkMx9HI59zkJC7hd3nw9A91DyfxWPTbpGR8bngkVLtSa1+strJhtaBsCuTXg5V7grKukVd57GxPVMpiKU60YAiSdmHOoVkcEvrtT6wfof82fF8D0vG8jFRYtEHusws8+srM7ysqfHoAYe/8=
  file:
    - release/ElectronVueParcel-linux.zip
    - release/ElectronVueParcel-mac.zip
    - release/ElectronVueParcel-win.zip
  skip_cleanup: true
  on:
    tags: true
    branch: master
